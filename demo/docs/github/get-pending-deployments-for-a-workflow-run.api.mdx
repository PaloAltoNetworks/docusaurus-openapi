---
id: get-pending-deployments-for-a-workflow-run
sidebar_label: Get pending deployments for a workflow run
hide_title: true
hide_table_of_contents: true
api: {"description":"Get all deployment environments for a workflow run that are waiting for protection rules to pass.\n\nAnyone with read access to the repository can use this endpoint. If the repository is private, you must use an access token with the `repo` scope. GitHub Apps must have the `actions:read` permission to use this endpoint.","externalDocs":{"description":"API method documentation","url":"https://docs.github.com/rest/reference/actions#get-pending-deployments-for-a-workflow-run"},"operationId":"actions/get-pending-deployments-for-run","parameters":[{"in":"path","name":"owner","required":true,"schema":{"type":"string"}},{"in":"path","name":"repo","required":true,"schema":{"type":"string"}},{"description":"The id of the workflow run","in":"path","name":"run_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"examples":{"default":{"value":[{"current_user_can_approve":true,"environment":{"html_url":"https://github.com/github/hello-world/deployments/activity_log?environments_filter=staging","id":161088068,"name":"staging","node_id":"MDExOkVudmlyb25tZW50MTYxMDg4MDY4","url":"https://api.github.com/repos/github/hello-world/environments/staging"},"reviewers":[{"reviewer":{"avatar_url":"https://github.com/images/error/octocat_happy.gif","events_url":"https://api.github.com/users/octocat/events{/privacy}","followers_url":"https://api.github.com/users/octocat/followers","following_url":"https://api.github.com/users/octocat/following{/other_user}","gists_url":"https://api.github.com/users/octocat/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/octocat","id":1,"login":"octocat","node_id":"MDQ6VXNlcjE=","organizations_url":"https://api.github.com/users/octocat/orgs","received_events_url":"https://api.github.com/users/octocat/received_events","repos_url":"https://api.github.com/users/octocat/repos","site_admin":false,"starred_url":"https://api.github.com/users/octocat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/octocat/subscriptions","type":"User","url":"https://api.github.com/users/octocat"},"type":"User"},{"reviewer":{"description":"A great team.","html_url":"https://github.com/orgs/github/teams/justice-league","id":1,"members_url":"https://api.github.com/teams/1/members{/member}","name":"Justice League","node_id":"MDQ6VGVhbTE=","permission":"admin","privacy":"closed","repositories_url":"https://api.github.com/teams/1/repos","slug":"justice-league","url":"https://api.github.com/teams/1"},"type":"Team"}],"wait_timer":30,"wait_timer_started_at":"2020-11-23T22:00:40.000Z"}]}},"schema":{"items":{"description":"Details of a deployment that is waiting for protection rules to pass","properties":{"current_user_can_approve":{"description":"Whether the currently authenticated user can approve the deployment","example":true,"type":"boolean"},"environment":{"properties":{"html_url":{"example":"https://github.com/github/hello-world/deployments/activity_log?environments_filter=staging","type":"string"},"id":{"description":"The id of the environment.","example":56780428,"type":"integer"},"name":{"description":"The name of the environment.","example":"staging","type":"string"},"node_id":{"example":"MDExOkVudmlyb25tZW50NTY3ODA0Mjg=","type":"string"},"url":{"example":"https://api.github.com/repos/github/hello-world/environments/staging","type":"string"}},"type":"object"},"reviewers":{"description":"The people or teams that may approve jobs that reference the environment. You can list up to six users or teams as reviewers. The reviewers must have at least read access to the repository. Only one of the required reviewers needs to approve the job for it to proceed.","items":{"properties":{"reviewer":{"anyOf":[{"description":"Simple User","nullable":true,"properties":{"avatar_url":{"example":"https://github.com/images/error/octocat_happy.gif","format":"uri","type":"string"},"events_url":{"example":"https://api.github.com/users/octocat/events{/privacy}","type":"string"},"followers_url":{"example":"https://api.github.com/users/octocat/followers","format":"uri","type":"string"},"following_url":{"example":"https://api.github.com/users/octocat/following{/other_user}","type":"string"},"gists_url":{"example":"https://api.github.com/users/octocat/gists{/gist_id}","type":"string"},"gravatar_id":{"example":"41d064eb2195891e12d0413f63227ea7","nullable":true,"type":"string"},"html_url":{"example":"https://github.com/octocat","format":"uri","type":"string"},"id":{"example":1,"type":"integer"},"login":{"example":"octocat","type":"string"},"node_id":{"example":"MDQ6VXNlcjE=","type":"string"},"organizations_url":{"example":"https://api.github.com/users/octocat/orgs","format":"uri","type":"string"},"received_events_url":{"example":"https://api.github.com/users/octocat/received_events","format":"uri","type":"string"},"repos_url":{"example":"https://api.github.com/users/octocat/repos","format":"uri","type":"string"},"site_admin":{"type":"boolean"},"starred_at":{"example":"\"2020-07-09T00:17:55Z\"","type":"string"},"starred_url":{"example":"https://api.github.com/users/octocat/starred{/owner}{/repo}","type":"string"},"subscriptions_url":{"example":"https://api.github.com/users/octocat/subscriptions","format":"uri","type":"string"},"type":{"example":"User","type":"string"},"url":{"example":"https://api.github.com/users/octocat","format":"uri","type":"string"}},"required":["avatar_url","events_url","followers_url","following_url","gists_url","gravatar_id","html_url","id","node_id","login","organizations_url","received_events_url","repos_url","site_admin","starred_url","subscriptions_url","type","url"],"title":"Simple User","type":"object"},{"description":"Groups of organization members that gives permissions on specified repositories.","nullable":true,"properties":{"description":{"description":"Description of the team","example":"A great team.","nullable":true,"type":"string"},"html_url":{"example":"https://github.com/orgs/rails/teams/core","format":"uri","type":"string"},"id":{"description":"Unique identifier of the team","example":1,"type":"integer"},"ldap_dn":{"description":"Distinguished Name (DN) that team maps to within LDAP environment","example":"uid=example,ou=users,dc=github,dc=com","type":"string"},"members_url":{"example":"https://api.github.com/organizations/1/team/1/members{/member}","type":"string"},"name":{"description":"Name of the team","example":"Justice League","type":"string"},"node_id":{"example":"MDQ6VGVhbTE=","type":"string"},"permission":{"description":"Permission that the team will have for its repositories","example":"admin","type":"string"},"privacy":{"description":"The level of privacy this team should have","example":"closed","type":"string"},"repositories_url":{"example":"https://api.github.com/organizations/1/team/1/repos","format":"uri","type":"string"},"slug":{"example":"justice-league","type":"string"},"url":{"description":"URL for the team","example":"https://api.github.com/organizations/1/team/1","format":"uri","type":"string"}},"required":["id","node_id","url","members_url","name","description","permission","html_url","repositories_url","slug"],"title":"Team Simple","type":"object"}]},"type":{"description":"The type of reviewer. Must be one of: `User` or `Team`","enum":["User","Team"],"example":"User","type":"string"}},"type":"object"},"type":"array"},"wait_timer":{"description":"The set duration of the wait timer","example":30,"type":"integer"},"wait_timer_started_at":{"description":"The time that the wait timer began.","example":"2020-11-23T22:00:40.000Z","format":"date-time","nullable":true,"type":"string"}},"required":["environment","wait_timer","wait_timer_started_at","current_user_can_approve","reviewers"],"title":"Pending Deployment","type":"object"},"type":"array"}}},"description":"response"}},"tags":["actions"],"x-github":{"category":"actions","enabledForGitHubApps":true,"githubCloudOnly":false,"previews":[],"subcategory":"workflow-runs"},"method":"get","path":"/repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments","servers":[{"url":"https://api.github.com"}],"info":{"contact":{"name":"Support","url":"https://support.github.com/contact"},"description":"GitHub's v3 REST API.","license":{"name":"MIT","url":"https://spdx.org/licenses/MIT"},"termsOfService":"https://docs.github.com/articles/github-terms-of-service","title":"GitHub v3 REST API","version":"1.1.4","x-apisguru-categories":["collaboration","developer_tools"],"x-logo":{"url":"https://twitter.com/github/profile_image?size=original"},"x-origin":[{"format":"openapi","url":"https://raw.githubusercontent.com/github/rest-api-description/main/descriptions/api.github.com/api.github.com.json","version":"3.0"}],"x-providerName":"github.com"},"postman":{"name":"Get pending deployments for a workflow run","description":{"content":"Get all deployment environments for a workflow run that are waiting for protection rules to pass.\n\nAnyone with read access to the repository can use this endpoint. If the repository is private, you must use an access token with the `repo` scope. GitHub Apps must have the `actions:read` permission to use this endpoint.","type":"text/plain"},"url":{"path":["repos",":owner",":repo","actions","runs",":run_id","pending_deployments"],"host":["{{baseUrl}}"],"query":[],"variable":[{"disabled":false,"description":{"content":"(Required) ","type":"text/plain"},"type":"any","value":"","key":"owner"},{"disabled":false,"description":{"content":"(Required) ","type":"text/plain"},"type":"any","value":"","key":"repo"},{"disabled":false,"description":{"content":"(Required) The id of the workflow run","type":"text/plain"},"type":"any","value":"","key":"run_id"}]},"header":[{"key":"Accept","value":"application/json"}],"method":"GET"}}
sidebar_class_name: "get api-method"
---

import ParamsItem from "@theme/ParamsItem";
import SchemaItem from "@theme/SchemaItem"
import ApiTabs from "@theme/ApiTabs";
import TabItem from "@theme/TabItem";

## Get pending deployments for a workflow run



Get all deployment environments for a workflow run that are waiting for protection rules to pass.

Anyone with read access to the repository can use this endpoint. If the repository is private, you must use an access token with the `repo` scope. GitHub Apps must have the `actions:read` permission to use this endpoint.

<details style={{"marginBottom":"1rem"}}><summary style={{}}><strong>Path Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"path","name":"owner","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"in":"path","name":"repo","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"The id of the workflow run","in":"path","name":"run_id","required":true,"schema":{"type":"integer"}}}></ParamsItem></ul></div></details><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

response

</div><div><details style={{}}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><li><div><ul><SchemaItem collapsible={false} name={"current_user_can_approve"} required={true} schemaDescription={"Whether the currently authenticated user can approve the deployment"} schemaName={"boolean"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>environment</strong><span style={{"opacity":"0.6"}}> object</span><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"marginLeft":"1rem"}}><ul><SchemaItem collapsible={false} name={"html_url"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaDescription={"The id of the environment."} schemaName={"integer"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"name"} required={false} schemaDescription={"The name of the environment."} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"node_id"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"url"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></ul></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>reviewers</strong><span style={{"opacity":"0.6"}}> object[]</span><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The people or teams that may approve jobs that reference the environment. You can list up to six users or teams as reviewers. The reviewers must have at least read access to the repository. Only one of the required reviewers needs to approve the job for it to proceed.

</div><ul><SchemaItem collapsible={false} name={"reviewer"} required={false} schemaDescription={undefined} schemaName={""} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={false} schemaDescription={"The type of reviewer. Must be one of: `User` or `Team`"} schemaName={"string"} qualifierMessage={"**Possible values:** [`User`, `Team`]"}></SchemaItem></ul></div></details></SchemaItem><SchemaItem collapsible={false} name={"wait_timer"} required={true} schemaDescription={"The set duration of the wait timer"} schemaName={"integer"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"wait_timer_started_at"} required={true} schemaDescription={"The time that the wait timer began."} schemaName={"date-time"} qualifierMessage={undefined}></SchemaItem></ul></div></li></ul></details></div></TabItem></ApiTabs></div>
      